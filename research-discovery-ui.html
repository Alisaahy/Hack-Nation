<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Research Discovery Agent</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #2563eb;
            --primary-dark: #1e40af;
            --secondary-color: #8b5cf6;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--gray-900);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-md);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1.5rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }

        nav {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        nav a {
            color: var(--gray-700);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        nav a:hover {
            color: var(--primary-color);
        }

        .btn-profile {
            background: var(--primary-color);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }

        .btn-profile:hover {
            background: var(--primary-dark);
        }

        /* Screen Container */
        .screen {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Card Styles */
        .card {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: var(--shadow-xl);
            margin: 2rem 0;
        }

        /* Profile Creation Screen */
        .profile-screen {
            max-width: 800px;
            margin: 3rem auto;
        }

        .profile-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .profile-header h1 {
            font-size: 2.5rem;
            color: white;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .profile-header p {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
        }

        .profile-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .profile-option {
            padding: 2rem;
            border: 3px solid var(--gray-200);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            background: white;
        }

        .profile-option:hover {
            border-color: var(--primary-color);
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .profile-option.selected {
            border-color: var(--primary-color);
            background: #eff6ff;
        }

        .profile-option-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .profile-option h3 {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            color: var(--gray-800);
        }

        .profile-option p {
            color: var(--gray-600);
            font-size: 0.95rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--gray-700);
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--gray-300);
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .google-scholar-input {
            display: flex;
            gap: 0.5rem;
        }

        .google-scholar-input input {
            flex: 1;
        }

        /* Upload Screen */
        .upload-screen {
            max-width: 900px;
            margin: 3rem auto;
        }

        .hero {
            text-align: center;
            color: white;
            margin-bottom: 3rem;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .hero p {
            font-size: 1.3rem;
            opacity: 0.95;
        }

        .upload-zone {
            border: 3px dashed var(--gray-300);
            border-radius: 16px;
            padding: 4rem 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: rgba(255, 255, 255, 0.05);
            margin-bottom: 2rem;
        }

        .upload-zone:hover {
            border-color: var(--primary-color);
            background: rgba(255, 255, 255, 0.1);
        }

        .upload-zone.dragover {
            border-color: var(--success-color);
            background: rgba(16, 185, 129, 0.1);
        }

        .upload-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            color: var(--gray-400);
        }

        .upload-zone h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--gray-700);
        }

        .upload-zone p {
            color: var(--gray-500);
            margin-bottom: 1rem;
        }

        .file-types {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 1.5rem;
        }

        .file-type {
            padding: 0.5rem 1rem;
            background: var(--gray-100);
            border-radius: 6px;
            font-size: 0.9rem;
            color: var(--gray-600);
        }

        /* How It Works */
        .how-it-works {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
            margin-top: 3rem;
        }

        .step {
            text-align: center;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            box-shadow: var(--shadow-md);
        }

        .step-number {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0 auto 1rem;
        }

        .step h4 {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            color: var(--gray-800);
        }

        .step p {
            font-size: 0.9rem;
            color: var(--gray-600);
        }

        /* Topic Selection Screen */
        .topic-selection-screen {
            max-width: 1000px;
            margin: 2rem auto;
        }

        .topic-search {
            margin-bottom: 2rem;
        }

        .topic-search input {
            width: 100%;
            padding: 1rem;
            border: 2px solid var(--gray-300);
            border-radius: 12px;
            font-size: 1.1rem;
        }

        .selected-topics {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-bottom: 2rem;
            min-height: 60px;
            padding: 1rem;
            background: var(--gray-50);
            border-radius: 12px;
        }

        .topic-tag {
            padding: 0.5rem 1rem;
            background: var(--primary-color);
            color: white;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.95rem;
            font-weight: 500;
        }

        .topic-tag .remove {
            cursor: pointer;
            font-weight: 700;
            opacity: 0.8;
            transition: opacity 0.3s;
        }

        .topic-tag .remove:hover {
            opacity: 1;
        }

        .topic-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .topic-bubble {
            padding: 1rem;
            border: 2px solid var(--gray-300);
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
            font-size: 0.95rem;
            font-weight: 500;
        }

        .topic-bubble:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .topic-bubble.selected {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* Processing Screen */
        .processing-screen {
            max-width: 700px;
            margin: 5rem auto;
        }

        .processing-animation {
            text-align: center;
            margin-bottom: 2rem;
        }

        .spinner {
            width: 80px;
            height: 80px;
            border: 6px solid var(--gray-200);
            border-top-color: var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 2rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .processing-steps {
            margin-top: 2rem;
        }

        .processing-step {
            padding: 1.5rem;
            border-left: 4px solid var(--gray-300);
            margin-bottom: 1rem;
            position: relative;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .processing-step.active {
            border-left-color: var(--primary-color);
            background: rgba(255, 255, 255, 0.1);
        }

        .processing-step.completed {
            border-left-color: var(--success-color);
            opacity: 0.7;
        }

        .processing-step h4 {
            color: white;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .processing-step p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.95rem;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--gray-300);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 1rem;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            transition: width 0.5s;
        }

        /* Results Dashboard */
        .results-screen {
            max-width: 1200px;
            margin: 2rem auto;
        }

        .paper-summary {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-lg);
        }

        .paper-summary h2 {
            color: var(--gray-800);
            margin-bottom: 1rem;
            font-size: 1.8rem;
        }

        .paper-meta {
            display: flex;
            gap: 2rem;
            color: var(--gray-600);
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .paper-meta span {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .results-header h2 {
            color: white;
            font-size: 2rem;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
        }

        .idea-cards {
            display: grid;
            gap: 2rem;
        }

        .idea-card {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .idea-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 6px;
            height: 100%;
            background: linear-gradient(180deg, var(--primary-color), var(--secondary-color));
        }

        .idea-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-xl);
        }

        .idea-rank {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .idea-card h3 {
            font-size: 1.5rem;
            color: var(--gray-800);
            margin-bottom: 0.75rem;
            padding-right: 60px;
        }

        .idea-pitch {
            font-size: 1.05rem;
            color: var(--gray-600);
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .idea-scores {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .score-item {
            text-align: center;
        }

        .score-label {
            font-size: 0.85rem;
            color: var(--gray-600);
            margin-bottom: 0.5rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .score-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .stars {
            color: #fbbf24;
            font-size: 1.2rem;
        }

        .idea-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .tag {
            padding: 0.4rem 0.8rem;
            background: var(--gray-100);
            color: var(--gray-700);
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .tag.highlight {
            background: #dbeafe;
            color: var(--primary-color);
        }

        .why-for-you {
            background: #f0f9ff;
            border-left: 4px solid var(--primary-color);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .why-for-you h4 {
            color: var(--primary-color);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .why-for-you p {
            color: var(--gray-700);
            font-size: 0.95rem;
        }

        .idea-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 2px solid var(--gray-100);
        }

        .difficulty {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--gray-600);
            font-size: 0.9rem;
        }

        /* Idea Detail Screen */
        .idea-detail-screen {
            max-width: 1200px;
            margin: 2rem auto;
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 2rem;
        }

        .detail-sidebar {
            position: sticky;
            top: 100px;
            height: fit-content;
        }

        .sidebar-nav {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow-md);
        }

        .sidebar-nav h4 {
            font-size: 0.9rem;
            color: var(--gray-600);
            margin-bottom: 1rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .sidebar-nav a {
            display: block;
            padding: 0.75rem;
            color: var(--gray-700);
            text-decoration: none;
            border-radius: 6px;
            margin-bottom: 0.25rem;
            transition: all 0.3s;
            font-size: 0.95rem;
        }

        .sidebar-nav a:hover,
        .sidebar-nav a.active {
            background: var(--primary-color);
            color: white;
        }

        .detail-content {
            background: white;
            border-radius: 16px;
            padding: 3rem;
            box-shadow: var(--shadow-lg);
        }

        .detail-content section {
            margin-bottom: 3rem;
        }

        .detail-content h2 {
            font-size: 2rem;
            color: var(--gray-800);
            margin-bottom: 1.5rem;
        }

        .detail-content h3 {
            font-size: 1.5rem;
            color: var(--gray-800);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 3px solid var(--primary-color);
        }

        .literature-item {
            padding: 1.5rem;
            background: var(--gray-50);
            border-radius: 12px;
            margin-bottom: 1rem;
            border-left: 4px solid var(--primary-color);
        }

        .literature-item h4 {
            color: var(--gray-800);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .literature-item .authors {
            color: var(--gray-600);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .literature-item .summary {
            color: var(--gray-700);
            line-height: 1.6;
        }

        .approach-steps {
            counter-reset: step-counter;
        }

        .approach-step {
            padding-left: 3rem;
            position: relative;
            margin-bottom: 1.5rem;
        }

        .approach-step::before {
            counter-increment: step-counter;
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            width: 35px;
            height: 35px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .approach-step h4 {
            font-size: 1.1rem;
            color: var(--gray-800);
            margin-bottom: 0.5rem;
        }

        .approach-step p {
            color: var(--gray-600);
            line-height: 1.6;
        }

        /* Buttons */
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .btn-secondary {
            background: white;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }

        .btn-secondary:hover {
            background: var(--primary-color);
            color: white;
        }

        .btn-large {
            padding: 1rem 2rem;
            font-size: 1.1rem;
        }

        .btn-block {
            width: 100%;
            justify-content: center;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .how-it-works {
                grid-template-columns: 1fr;
            }

            .profile-options {
                grid-template-columns: 1fr;
            }

            .topic-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }

            .idea-scores {
                grid-template-columns: 1fr;
            }

            .idea-detail-screen {
                grid-template-columns: 1fr;
            }

            .detail-sidebar {
                position: static;
            }
        }

        /* Animations */
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-slide-in {
            animation: slideInUp 0.6s ease-out;
        }

        /* Hidden class */
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">üî¨</div>
                <span>Research Discovery</span>
            </div>
            <nav>
                <a href="#" onclick="showScreen('upload')">New Analysis</a>
                <a href="#">My Projects</a>
                <a href="#">About</a>
                <button class="btn-profile" onclick="showScreen('profile')">Profile</button>
            </nav>
        </div>
    </header>

    <div class="container">
        <!-- Profile Creation Screen -->
        <div id="profile-screen" class="screen active">
            <div class="profile-screen">
                <div class="profile-header">
                    <h1>Create Your Research Profile</h1>
                    <p>Help us personalize research ideas for you</p>
                </div>

                <div class="card">
                    <div class="profile-options">
                        <div class="profile-option" onclick="selectProfileMethod('manual')">
                            <div class="profile-option-icon">‚úçÔ∏è</div>
                            <h3>Manual Entry</h3>
                            <p>Describe your expertise and interests</p>
                        </div>
                        <div class="profile-option" onclick="selectProfileMethod('scholar')">
                            <div class="profile-option-icon">üéì</div>
                            <h3>Google Scholar</h3>
                            <p>Import from your academic profile</p>
                        </div>
                    </div>

                    <div id="manual-form" class="hidden">
                        <form onsubmit="createProfile(event)">
                            <div class="form-group">
                                <label>Research Areas *</label>
                                <input type="text" placeholder="e.g., Machine Learning, Computer Vision, NLP" required>
                            </div>
                            <div class="form-group">
                                <label>Expertise Level</label>
                                <select style="width: 100%; padding: 0.75rem; border: 2px solid var(--gray-300); border-radius: 8px; font-size: 1rem;">
                                    <option>PhD Student</option>
                                    <option>Early Career Researcher</option>
                                    <option>Postdoc</option>
                                    <option>Faculty</option>
                                    <option>Industry Researcher</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Technical Skills</label>
                                <input type="text" placeholder="e.g., Python, PyTorch, Statistical Analysis">
                            </div>
                            <div class="form-group">
                                <label>Research Interests</label>
                                <textarea placeholder="Describe what topics excite you and what problems you'd like to solve..."></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary btn-large btn-block">Create Profile & Continue</button>
                        </form>
                    </div>

                    <div id="scholar-form" class="hidden">
                        <form onsubmit="importScholar(event)">
                            <div class="form-group">
                                <label>Google Scholar Profile URL *</label>
                                <div class="google-scholar-input">
                                    <input type="url" placeholder="https://scholar.google.com/citations?user=..." required>
                                    <button type="submit" class="btn btn-primary">Import</button>
                                </div>
                                <p style="font-size: 0.9rem; color: var(--gray-600); margin-top: 0.5rem;">
                                    We'll analyze your publications to understand your expertise
                                </p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Upload Screen -->
        <div id="upload-screen" class="screen">
            <div class="upload-screen">
                <div class="hero">
                    <h1>Discover Your Next Research Direction</h1>
                    <p>Upload a paper and get personalized, actionable research ideas</p>
                </div>

                <div class="card">
                    <div class="upload-zone" id="upload-zone" onclick="document.getElementById('file-input').click()">
                        <div class="upload-icon">üìÑ</div>
                        <h3>Drop your paper here</h3>
                        <p>or click to browse</p>
                        <input type="file" id="file-input" accept=".pdf,.tex" style="display: none;" onchange="handleFileUpload(event)">
                        <div class="file-types">
                            <span class="file-type">PDF</span>
                            <span class="file-type">LaTeX</span>
                        </div>
                    </div>

                    <div id="file-info" class="hidden" style="padding: 1.5rem; background: var(--gray-50); border-radius: 12px; margin-top: 1rem;">
                        <h4 style="margin-bottom: 0.5rem;">Selected File:</h4>
                        <p id="file-name" style="color: var(--gray-700);"></p>
                        <button class="btn btn-primary btn-large btn-block" style="margin-top: 1rem;" onclick="showScreen('topics')">Continue to Topic Selection</button>
                    </div>
                </div>

                <div class="how-it-works">
                    <div class="step">
                        <div class="step-number">1</div>
                        <h4>Upload</h4>
                        <p>Share a research paper you find interesting</p>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <h4>Extract</h4>
                        <p>AI reads and understands key concepts</p>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <h4>Discover</h4>
                        <p>Get 10 personalized research ideas</p>
                    </div>
                    <div class="step">
                        <div class="step-number">4</div>
                        <h4>Research</h4>
                        <p>Deep analysis of your top 3 choices</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Topic Selection Screen -->
        <div id="topics-screen" class="screen">
            <div class="topic-selection-screen">
                <div class="card">
                    <h2 style="margin-bottom: 1.5rem;">Select Research Topics</h2>
                    <p style="color: var(--gray-600); margin-bottom: 2rem;">Choose topics that interest you (1-5 topics)</p>

                    <div class="topic-search">
                        <input type="text" placeholder="üîç Search topics..." onkeyup="filterTopics(event)">
                    </div>

                    <div class="selected-topics" id="selected-topics">
                        <p style="color: var(--gray-500); font-size: 0.95rem;">Select topics below...</p>
                    </div>

                    <div class="topic-grid" id="topic-grid">
                        <!-- Topics will be populated by JavaScript -->
                    </div>

                    <button class="btn btn-primary btn-large btn-block" onclick="startAnalysis()" id="analyze-btn" disabled>
                        Analyze Paper & Generate Ideas
                    </button>
                </div>
            </div>
        </div>

        <!-- Processing Screen -->
        <div id="processing-screen" class="screen">
            <div class="processing-screen">
                <div class="card">
                    <div class="processing-animation">
                        <div class="spinner"></div>
                        <h2 style="color: white; margin-bottom: 0.5rem;">Analyzing Your Paper</h2>
                        <p style="color: rgba(255, 255, 255, 0.8);">This will take 1-2 minutes</p>
                    </div>

                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                    </div>

                    <div class="processing-steps">
                        <div class="processing-step active" id="step-1">
                            <h4>üìñ Reading Paper</h4>
                            <p>Extracting key concepts, methodologies, and findings...</p>
                        </div>
                        <div class="processing-step" id="step-2">
                            <h4>üí° Generating Ideas</h4>
                            <p>Creating personalized research directions based on your profile...</p>
                        </div>
                        <div class="processing-step" id="step-3">
                            <h4>üéØ Tailoring to You</h4>
                            <p>Matching ideas with your expertise and interests...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Dashboard -->
        <div id="results-screen" class="screen">
            <div class="results-screen">
                <div class="paper-summary">
                    <h2>Attention Is All You Need</h2>
                    <div class="paper-meta">
                        <span>üë• Vaswani et al.</span>
                        <span>üìÖ 2017</span>
                        <span>üìç NeurIPS</span>
                    </div>
                    <p style="color: var(--gray-700); line-height: 1.7;">
                        This paper introduces the Transformer architecture, a novel neural network design that relies entirely on self-attention mechanisms without recurrence or convolutions. The model achieves state-of-the-art results on machine translation tasks while being more parallelizable and requiring significantly less training time.
                    </p>
                </div>

                <div class="results-header">
                    <h2>Your Personalized Research Ideas</h2>
                    <div class="action-buttons">
                        <button class="btn btn-secondary">Export All</button>
                        <button class="btn btn-primary">Start New Analysis</button>
                    </div>
                </div>

                <div class="idea-cards">
                    <!-- Idea Card 1 -->
                    <div class="idea-card animate-slide-in" onclick="showIdeaDetail(1)">
                        <div class="idea-rank">1</div>
                        <h3>Efficient Transformers for Mobile Devices</h3>
                        <p class="idea-pitch">
                            Develop lightweight attention mechanisms that maintain Transformer performance while reducing computational requirements for deployment on resource-constrained devices.
                        </p>

                        <div class="why-for-you">
                            <h4>WHY THIS IS PERFECT FOR YOU</h4>
                            <p>Combines your expertise in model optimization with mobile computing. Aligns with your recent work on efficient neural architectures.</p>
                        </div>

                        <div class="idea-scores">
                            <div class="score-item">
                                <div class="score-label">Novelty</div>
                                <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
                            </div>
                            <div class="score-item">
                                <div class="score-label">Doability</div>
                                <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                            </div>
                            <div class="score-item">
                                <div class="score-label">Match</div>
                                <div class="score-value">95%</div>
                            </div>
                        </div>

                        <div class="idea-tags">
                            <span class="tag highlight">Novel Methods</span>
                            <span class="tag">Mobile AI</span>
                            <span class="tag">Model Compression</span>
                            <span class="tag">Real-time</span>
                        </div>

                        <div class="idea-footer">
                            <div class="difficulty">
                                <span>‚è±Ô∏è 4-6 months</span>
                                <span>‚Ä¢</span>
                                <span>üéØ Intermediate</span>
                            </div>
                            <button class="btn btn-primary" onclick="event.stopPropagation(); showIdeaDetail(1)">
                                View Details ‚Üí
                            </button>
                        </div>
                    </div>

                    <!-- Idea Card 2 -->
                    <div class="idea-card animate-slide-in" style="animation-delay: 0.1s" onclick="showIdeaDetail(2)">
                        <div class="idea-rank">2</div>
                        <h3>Self-Attention for Time Series Forecasting</h3>
                        <p class="idea-pitch">
                            Apply Transformer architectures to multivariate time series prediction, exploring how attention mechanisms can capture temporal dependencies better than traditional RNNs.
                        </p>

                        <div class="why-for-you">
                            <h4>WHY THIS IS PERFECT FOR YOU</h4>
                            <p>Bridges your interest in sequence modeling with practical applications. Low barrier to entry with available datasets.</p>
                        </div>

                        <div class="idea-scores">
                            <div class="score-item">
                                <div class="score-label">Novelty</div>
                                <div class="stars">‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ</div>
                            </div>
                            <div class="score-item">
                                <div class="score-label">Doability</div>
                                <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                            </div>
                            <div class="score-item">
                                <div class="score-label">Match</div>
                                <div class="score-value">88%</div>
                            </div>
                        </div>

                        <div class="idea-tags">
                            <span class="tag highlight">Cross-Domain</span>
                            <span class="tag">Time Series</span>
                            <span class="tag">Forecasting</span>
                            <span class="tag">Public Datasets</span>
                        </div>

                        <div class="idea-footer">
                            <div class="difficulty">
                                <span>‚è±Ô∏è 3-4 months</span>
                                <span>‚Ä¢</span>
                                <span>üéØ Beginner-Intermediate</span>
                            </div>
                            <button class="btn btn-primary" onclick="event.stopPropagation(); showIdeaDetail(2)">
                                View Details ‚Üí
                            </button>
                        </div>
                    </div>

                    <!-- Idea Card 3 -->
                    <div class="idea-card animate-slide-in" style="animation-delay: 0.2s" onclick="showIdeaDetail(3)">
                        <div class="idea-rank">3</div>
                        <h3>Interpretable Attention for Healthcare</h3>
                        <p class="idea-pitch">
                            Develop methods to make Transformer attention weights clinically interpretable for medical diagnosis, enabling doctors to understand which features drive AI predictions.
                        </p>

                        <div class="why-for-you">
                            <h4>WHY THIS IS PERFECT FOR YOU</h4>
                            <p>Aligns with your background in explainable AI. High impact potential with growing interest in medical AI applications.</p>
                        </div>

                        <div class="idea-scores">
                            <div class="score-item">
                                <div class="score-label">Novelty</div>
                                <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
                            </div>
                            <div class="score-item">
                                <div class="score-label">Doability</div>
                                <div class="stars">‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ</div>
                            </div>
                            <div class="score-item">
                                <div class="score-label">Match</div>
                                <div class="score-value">82%</div>
                            </div>
                        </div>

                        <div class="idea-tags">
                            <span class="tag highlight">High Impact</span>
                            <span class="tag">Healthcare AI</span>
                            <span class="tag">Interpretability</span>
                            <span class="tag">XAI</span>
                        </div>

                        <div class="idea-footer">
                            <div class="difficulty">
                                <span>‚è±Ô∏è 6-8 months</span>
                                <span>‚Ä¢</span>
                                <span>üéØ Advanced</span>
                            </div>
                            <button class="btn btn-primary" onclick="event.stopPropagation(); showIdeaDetail(3)">
                                View Details ‚Üí
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Idea Detail Screen -->
        <div id="detail-screen" class="screen">
            <div class="idea-detail-screen">
                <div class="detail-sidebar">
                    <div class="sidebar-nav">
                        <h4>Jump to</h4>
                        <a href="#overview" class="active">Overview</a>
                        <a href="#why">Why This Idea?</a>
                        <a href="#literature">Literature Review</a>
                        <a href="#gap">Research Gap</a>
                        <a href="#approach">Suggested Approach</a>
                        <a href="#resources">Resources Needed</a>
                        <a href="#references">References</a>
                    </div>
                </div>

                <div class="detail-content">
                    <section id="overview">
                        <h2>Efficient Transformers for Mobile Devices</h2>
                        <p style="font-size: 1.2rem; color: var(--gray-700); line-height: 1.8; margin-bottom: 2rem;">
                            This research direction focuses on developing lightweight attention mechanisms that maintain Transformer performance while dramatically reducing computational requirements, enabling deployment on resource-constrained mobile devices.
                        </p>

                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; margin-bottom: 2rem;">
                            <div style="padding: 1.5rem; background: var(--gray-50); border-radius: 12px; text-align: center;">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">‚è±Ô∏è</div>
                                <div style="font-weight: 600; color: var(--gray-800);">4-6 months</div>
                                <div style="font-size: 0.9rem; color: var(--gray-600);">Estimated Timeline</div>
                            </div>
                            <div style="padding: 1.5rem; background: var(--gray-50); border-radius: 12px; text-align: center;">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">üéØ</div>
                                <div style="font-weight: 600; color: var(--gray-800);">Intermediate</div>
                                <div style="font-size: 0.9rem; color: var(--gray-600);">Difficulty Level</div>
                            </div>
                            <div style="padding: 1.5rem; background: var(--gray-50); border-radius: 12px; text-align: center;">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">üí∞</div>
                                <div style="font-weight: 600; color: var(--gray-800);">Moderate</div>
                                <div style="font-size: 0.9rem; color: var(--gray-600);">Resource Needs</div>
                            </div>
                        </div>
                    </section>

                    <section id="why">
                        <h3>Why This Idea?</h3>
                        <p style="color: var(--gray-700); line-height: 1.8; margin-bottom: 1rem;">
                            The original Transformer paper revolutionized NLP with self-attention mechanisms, but the quadratic computational complexity makes deployment on mobile devices challenging. Current smartphones have increasingly powerful AI accelerators, yet most Transformer-based models remain too computationally expensive for real-time on-device inference.
                        </p>
                        <p style="color: var(--gray-700); line-height: 1.8;">
                            This research direction is particularly well-suited for you because it combines your expertise in model optimization with the growing demand for privacy-preserving, on-device AI. Your recent work on efficient neural architectures provides a strong foundation for tackling attention mechanism optimization.
                        </p>
                    </section>

                    <section id="literature">
                        <h3>Literature Overview</h3>

                        <h4 style="color: var(--gray-700); margin: 2rem 0 1rem; font-size: 1.1rem;">Foundational Work</h4>
                        <div class="literature-item">
                            <h4>Linformer: Self-Attention with Linear Complexity</h4>
                            <p class="authors">Wang et al., 2020 ‚Ä¢ arXiv ‚Ä¢ Cited by 847</p>
                            <p class="summary">
                                Introduces a method to reduce the self-attention complexity from O(n¬≤) to O(n) by projecting keys and values to a lower-dimensional space. Achieves similar performance to standard Transformers on language modeling tasks while being significantly faster.
                            </p>
                        </div>

                        <div class="literature-item">
                            <h4>Reformer: The Efficient Transformer</h4>
                            <p class="authors">Kitaev et al., 2020 ‚Ä¢ ICLR ‚Ä¢ Cited by 1,234</p>
                            <p class="summary">
                                Proposes locality-sensitive hashing to reduce attention complexity and reversible residual layers to reduce memory consumption. Demonstrates ability to process sequences of up to 1 million tokens on a single GPU.
                            </p>
                        </div>

                        <h4 style="color: var(--gray-700); margin: 2rem 0 1rem; font-size: 1.1rem;">Recent Advances</h4>
                        <div class="literature-item">
                            <h4>MobileViT: Light-weight, General-purpose Vision Transformer</h4>
                            <p class="authors">Mehta & Rastegari, 2021 ‚Ä¢ ICLR ‚Ä¢ Cited by 456</p>
                            <p class="summary">
                                Combines CNNs with Transformers for efficient mobile vision tasks. Introduces mobile-friendly building blocks that balance global and local processing. Achieves competitive performance with MobileNetV3 while using fewer parameters.
                            </p>
                        </div>

                        <div class="literature-item">
                            <h4>EfficientFormer: Vision Transformers at MobileNet Speed</h4>
                            <p class="authors">Li et al., 2022 ‚Ä¢ NeurIPS ‚Ä¢ Cited by 289</p>
                            <p class="summary">
                                Redesigns vision Transformers specifically for mobile devices by removing inefficient operations. Achieves inference speeds comparable to MobileNetV2 while maintaining higher accuracy on ImageNet.
                            </p>
                        </div>

                        <h4 style="color: var(--gray-700); margin: 2rem 0 1rem; font-size: 1.1rem;">Identified Gaps</h4>
                        <div class="literature-item">
                            <h4>Hardware-Software Co-design for Mobile Transformers</h4>
                            <p class="summary">
                                Most efficient Transformer research focuses on algorithmic improvements without considering mobile hardware constraints. There's limited work on co-designing attention mechanisms with mobile AI accelerators (NPUs, DSPs) to maximize real-world performance.
                            </p>
                        </div>
                    </section>

                    <section id="gap">
                        <h3>What's Missing: The Research Gap</h3>
                        <p style="color: var(--gray-700); line-height: 1.8; margin-bottom: 1rem;">
                            While significant progress has been made in reducing Transformer complexity, most approaches focus on asymptotic complexity without considering the practical constraints of mobile hardware:
                        </p>
                        <ul style="color: var(--gray-700); line-height: 1.8; margin-left: 1.5rem; margin-bottom: 1rem;">
                            <li><strong>Memory bandwidth bottlenecks:</strong> Mobile devices have limited memory bandwidth, making memory-intensive operations like attention particularly slow regardless of FLOPs</li>
                            <li><strong>Quantization-aware designs:</strong> Most efficient Transformers assume full precision, but mobile inference typically uses INT8 or lower precision</li>
                            <li><strong>Battery consumption:</strong> Computational efficiency alone doesn't capture energy efficiency, crucial for mobile applications</li>
                            <li><strong>Multi-modal applications:</strong> Limited exploration of efficient attention for vision-language models on mobile devices</li>
                        </ul>
                        <p style="color: var(--gray-700); line-height: 1.8;">
                            This gap represents a high-impact opportunity to bridge theoretical efficiency improvements with practical mobile deployment constraints.
                        </p>
                    </section>

                    <section id="approach">
                        <h3>Suggested Approach</h3>

                        <div class="approach-steps">
                            <div class="approach-step">
                                <h4>Benchmark Existing Methods on Real Mobile Hardware</h4>
                                <p>Profile Linformer, Reformer, and EfficientFormer on representative mobile devices (e.g., iPhone 14, Samsung Galaxy S23). Measure not just FLOPs but actual latency, memory usage, and battery consumption. Identify bottlenecks specific to mobile hardware.</p>
                            </div>

                            <div class="approach-step">
                                <h4>Design Hardware-Aware Attention Mechanisms</h4>
                                <p>Develop attention variants optimized for mobile NPUs/DSPs. Consider block-sparse patterns that align with hardware capabilities, quantization-aware attention scores, and memory-efficient key-value caching strategies.</p>
                            </div>

                            <div class="approach-step">
                                <h4>Implement and Optimize</h4>
                                <p>Use TensorFlow Lite, PyTorch Mobile, or ONNX Runtime for implementation. Apply quantization-aware training, pruning, and knowledge distillation. Target real-time inference (30+ FPS for vision tasks) on mid-range devices.</p>
                            </div>

                            <div class="approach-step">
                                <h4>Evaluate on Diverse Tasks</h4>
                                <p>Test on multiple domains: image classification (ImageNet), object detection (COCO), language understanding (GLUE), and multi-modal tasks. Compare against MobileNet baselines and existing efficient Transformers.</p>
                            </div>

                            <div class="approach-step">
                                <h4>Publish and Release</h4>
                                <p>Write paper targeting CVPR, ICCV, or MobiCom. Release code, pre-trained models, and mobile app demo. Document deployment guidelines for practitioners.</p>
                            </div>
                        </div>
                    </section>

                    <section id="resources">
                        <h3>Resources Needed</h3>

                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem;">
                            <div style="padding: 1.5rem; background: var(--gray-50); border-radius: 12px;">
                                <h4 style="color: var(--gray-800); margin-bottom: 1rem;">üíª Compute & Hardware</h4>
                                <ul style="color: var(--gray-700); line-height: 1.8; margin-left: 1.5rem;">
                                    <li>1-2 GPUs for training (RTX 3090 or A100)</li>
                                    <li>3-4 mobile devices for testing (iOS & Android)</li>
                                    <li>Cloud credits for large-scale experiments (~$1000)</li>
                                </ul>
                            </div>

                            <div style="padding: 1.5rem; background: var(--gray-50); border-radius: 12px;">
                                <h4 style="color: var(--gray-800); margin-bottom: 1rem;">üìö Datasets</h4>
                                <ul style="color: var(--gray-700); line-height: 1.8; margin-left: 1.5rem;">
                                    <li>ImageNet (publicly available)</li>
                                    <li>MS COCO (publicly available)</li>
                                    <li>GLUE benchmark (publicly available)</li>
                                </ul>
                            </div>

                            <div style="padding: 1.5rem; background: var(--gray-50); border-radius: 12px;">
                                <h4 style="color: var(--gray-800); margin-bottom: 1rem;">üõ†Ô∏è Technical Skills</h4>
                                <ul style="color: var(--gray-700); line-height: 1.8; margin-left: 1.5rem;">
                                    <li>PyTorch/TensorFlow</li>
                                    <li>Model optimization (quantization, pruning)</li>
                                    <li>Mobile deployment frameworks</li>
                                    <li>Performance profiling</li>
                                </ul>
                            </div>

                            <div style="padding: 1.5rem; background: var(--gray-50); border-radius: 12px;">
                                <h4 style="color: var(--gray-800); margin-bottom: 1rem;">üë• Collaboration</h4>
                                <ul style="color: var(--gray-700); line-height: 1.8; margin-left: 1.5rem;">
                                    <li>Mobile systems expert (optional but helpful)</li>
                                    <li>Access to mobile hardware lab</li>
                                    <li>Advisor with computer vision background</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <section id="references">
                        <h3>Key References</h3>
                        <ol style="color: var(--gray-700); line-height: 2; margin-left: 1.5rem;">
                            <li>Vaswani, A., et al. (2017). "Attention is all you need." NeurIPS.</li>
                            <li>Wang, S., et al. (2020). "Linformer: Self-attention with linear complexity." arXiv.</li>
                            <li>Kitaev, N., et al. (2020). "Reformer: The efficient transformer." ICLR.</li>
                            <li>Mehta, S., & Rastegari, M. (2021). "MobileViT: Light-weight, general-purpose vision transformer." ICLR.</li>
                            <li>Li, Y., et al. (2022). "EfficientFormer: Vision transformers at MobileNet speed." NeurIPS.</li>
                            <li>Howard, A., et al. (2019). "Searching for MobileNetV3." ICCV.</li>
                            <li>Jacob, B., et al. (2018). "Quantization and training of neural networks for efficient integer-arithmetic-only inference." CVPR.</li>
                        </ol>

                        <div style="margin-top: 2rem; display: flex; gap: 1rem;">
                            <button class="btn btn-secondary">üì• Export as PDF</button>
                            <button class="btn btn-secondary">üìã Copy BibTeX</button>
                            <button class="btn btn-primary">‚úì Mark as Pursuing</button>
                        </div>
                    </section>

                    <div style="margin-top: 3rem; padding: 2rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 16px; text-align: center; color: white;">
                        <h3 style="color: white; margin-bottom: 1rem;">Ready to Start This Research?</h3>
                        <p style="margin-bottom: 1.5rem; opacity: 0.95;">Save this idea to your research library and get started with curated resources</p>
                        <button class="btn btn-large" style="background: white; color: var(--primary-color);" onclick="showScreen('results')">
                            ‚Üê Back to All Ideas
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Screen management
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId + '-screen').classList.add('active');
            window.scrollTo(0, 0);
        }

        // Profile creation
        let selectedProfileMethod = null;

        function selectProfileMethod(method) {
            selectedProfileMethod = method;
            document.querySelectorAll('.profile-option').forEach(opt => opt.classList.remove('selected'));
            event.target.closest('.profile-option').classList.add('selected');

            document.getElementById('manual-form').classList.add('hidden');
            document.getElementById('scholar-form').classList.add('hidden');

            if (method === 'manual') {
                document.getElementById('manual-form').classList.remove('hidden');
            } else {
                document.getElementById('scholar-form').classList.remove('hidden');
            }
        }

        function createProfile(e) {
            e.preventDefault();
            // Simulate profile creation
            setTimeout(() => {
                showScreen('upload');
            }, 500);
        }

        function importScholar(e) {
            e.preventDefault();
            // Simulate Google Scholar import
            alert('Importing your Google Scholar profile...');
            setTimeout(() => {
                showScreen('upload');
            }, 1500);
        }

        // File upload
        const uploadZone = document.getElementById('upload-zone');

        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            uploadZone.addEventListener(eventName, preventDefaults, false);
        });

        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }

        ['dragenter', 'dragover'].forEach(eventName => {
            uploadZone.addEventListener(eventName, () => {
                uploadZone.classList.add('dragover');
            }, false);
        });

        ['dragleave', 'drop'].forEach(eventName => {
            uploadZone.addEventListener(eventName, () => {
                uploadZone.classList.remove('dragover');
            }, false);
        });

        uploadZone.addEventListener('drop', (e) => {
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                handleFile(files[0]);
            }
        }, false);

        function handleFileUpload(e) {
            const file = e.target.files[0];
            if (file) {
                handleFile(file);
            }
        }

        function handleFile(file) {
            document.getElementById('file-name').textContent = file.name;
            document.getElementById('file-info').classList.remove('hidden');
        }

        // Topic selection
        const topics = [
            'Machine Learning', 'Computer Vision', 'Natural Language Processing', 'Robotics',
            'Deep Learning', 'Reinforcement Learning', 'Neural Networks', 'Data Mining',
            'Computer Graphics', 'Human-Computer Interaction', 'Distributed Systems', 'Security',
            'Bioinformatics', 'Quantum Computing', 'Cloud Computing', 'Edge Computing',
            'Internet of Things', 'Blockchain', 'Augmented Reality', 'Virtual Reality',
            'Speech Recognition', 'Recommendation Systems', 'Time Series Analysis', 'Graph Neural Networks',
            'Federated Learning', 'Transfer Learning', 'Few-Shot Learning', 'Meta-Learning',
            'Explainable AI', 'Fairness in ML'
        ];

        const selectedTopics = new Set();

        function initializeTopics() {
            const grid = document.getElementById('topic-grid');
            topics.forEach(topic => {
                const bubble = document.createElement('div');
                bubble.className = 'topic-bubble';
                bubble.textContent = topic;
                bubble.onclick = () => toggleTopic(topic, bubble);
                grid.appendChild(bubble);
            });
        }

        function toggleTopic(topic, element) {
            if (selectedTopics.has(topic)) {
                selectedTopics.delete(topic);
                element.classList.remove('selected');
            } else {
                if (selectedTopics.size < 5) {
                    selectedTopics.add(topic);
                    element.classList.add('selected');
                } else {
                    alert('Maximum 5 topics allowed');
                    return;
                }
            }
            updateSelectedTopics();
        }

        function updateSelectedTopics() {
            const container = document.getElementById('selected-topics');
            container.innerHTML = '';

            if (selectedTopics.size === 0) {
                container.innerHTML = '<p style="color: var(--gray-500); font-size: 0.95rem;">Select topics below...</p>';
            } else {
                selectedTopics.forEach(topic => {
                    const tag = document.createElement('div');
                    tag.className = 'topic-tag';
                    tag.innerHTML = `${topic} <span class="remove" onclick="removeTopic('${topic}')">√ó</span>`;
                    container.appendChild(tag);
                });
            }

            document.getElementById('analyze-btn').disabled = selectedTopics.size === 0;
        }

        function removeTopic(topic) {
            selectedTopics.delete(topic);
            document.querySelectorAll('.topic-bubble').forEach(bubble => {
                if (bubble.textContent === topic) {
                    bubble.classList.remove('selected');
                }
            });
            updateSelectedTopics();
        }

        function filterTopics(e) {
            const query = e.target.value.toLowerCase();
            document.querySelectorAll('.topic-bubble').forEach(bubble => {
                const text = bubble.textContent.toLowerCase();
                bubble.style.display = text.includes(query) ? 'block' : 'none';
            });
        }

        // Processing animation
        function startAnalysis() {
            showScreen('processing');

            const steps = ['step-1', 'step-2', 'step-3'];
            let currentStep = 0;
            let progress = 0;

            const interval = setInterval(() => {
                progress += 2;
                document.getElementById('progress-fill').style.width = progress + '%';

                if (progress === 33 || progress === 66) {
                    document.getElementById(steps[currentStep]).classList.remove('active');
                    document.getElementById(steps[currentStep]).classList.add('completed');
                    currentStep++;
                    if (currentStep < steps.length) {
                        document.getElementById(steps[currentStep]).classList.add('active');
                    }
                }

                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        showScreen('results');
                    }, 500);
                }
            }, 100);
        }

        function showIdeaDetail(ideaId) {
            showScreen('detail');
        }

        // Initialize
        initializeTopics();
    </script>
</body>
</html>